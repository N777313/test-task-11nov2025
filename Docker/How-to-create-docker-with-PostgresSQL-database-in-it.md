cat Readme.md
–ó–∞–¥–∞—á–∞ –º–Ω–µ –Ω–∞–¥–æ —Å–æ–∑–¥–∞—Ç—å docker –∏ –Ω–∞ –Ω–µ–º –Ω—É–∂–µ–Ω PostgreSQL 12.10 (64-bit).
–∏ —á—Ç–æ–±—ã —è —Å–º–æ–≥ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–µ–º—É —Å —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–º–ø—å—å—é—Ç–µ—Ä–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏


# --------------------
–û—Ç–ª–∏—á–Ω–æ üëç
–¢—ã —Ö–æ—á–µ—à—å:

* —Å–æ–∑–¥–∞—Ç—å **Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL 12.10**,
* –∏ **–ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –Ω–µ–º—É —Å –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞** –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ (LAN).

–†–∞–∑–±–µ—Ä—ë–º –ø–æ—à–∞–≥–æ–≤–æ üí™

---

## üß± –®–∞–≥ 1. –°–æ–∑–¥–∞–π –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞

```bash
mkdir postgres12-docker
cd postgres12-docker
```

---

## üß© –®–∞–≥ 2. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `docker-compose.yml`

–°–æ–∑–¥–∞–π (–∏–ª–∏ –æ—Ç–∫—Ä–æ–π nano):

```bash
nano docker-compose.yml
```

–í—Å—Ç–∞–≤—å —Ç—É–¥–∞ üëá

```yaml
version: "3.9"

services:
  postgres12:
    image: postgres:12.10
    container_name: postgres12
    restart: always
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: admin123
      POSTGRES_DB: testdb
    ports:
      - "5432:5432"
    volumes:
      - ./data:/var/lib/postgresql/data
    networks:
      - pg_network

networks:
  pg_network:
    driver: bridge
```

üí° –ü–æ—è—Å–Ω–µ–Ω–∏–µ:

* `ports: "5432:5432"` ‚Äî –¥–µ–ª–∞–µ—Ç PostgreSQL –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.
* `volumes` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* `POSTGRES_USER` –∏ `POSTGRES_PASSWORD` ‚Äî –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞.

---

## üöÄ –®–∞–≥ 3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker compose up -d
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
docker ps
```

‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `postgres12` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `Up`.

---

## üß† –®–∞–≥ 4. –†–∞–∑—Ä–µ—à–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### 4.1 –í–æ–π–¥–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker exec -it postgres12 bash
```

### 4.2 –ü–µ—Ä–µ–π–¥–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
cd /var/lib/postgresql/data
```

### 4.3 –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `postgresql.conf`

```bash
nano postgresql.conf
```

–ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É:

```
#listen_addresses = 'localhost'
```

–∏ –∏–∑–º–µ–Ω–∏ –Ω–∞:

```
listen_addresses = '*'
```

–°–æ—Ö—Ä–∞–Ω–∏ –∏ –≤—ã–π–¥–∏ (`Ctrl+O`, `Enter`, `Ctrl+X`).

---

### 4.4 –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `pg_hba.conf`

```bash
nano pg_hba.conf
```

–í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –¥–æ–±–∞–≤—å:

```
host    all             all             192.168.0.0/16           md5
```

> üîπ –ó–¥–µ—Å—å `192.168.0.0/16` ‚Äî —ç—Ç–æ –¥–∏–∞–ø–∞–∑–æ–Ω —Ç–≤–æ–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 192.168.100.0/24).
> –ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å —Ç–æ—á–Ω–æ ‚Äî –º–æ–∂–µ—à—å —É–∫–∞–∑–∞—Ç—å `0.0.0.0/0` (–¥–æ–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ—Ö, –Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∞).

---

### 4.5 –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ PostgreSQL –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
pg_ctl restart -D /var/lib/postgresql/data
```

–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
exit
docker restart postgres12
```

---

## üåê –®–∞–≥ 5. –ü–æ–¥–∫–ª—é—á–∏—Å—å —Å –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

–ù–∞ –¥—Ä—É–≥–æ–º –ü–ö (–≤ —Ç–æ–π –∂–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏) –∏—Å–ø–æ–ª—å–∑—É–π –ª—é–±–æ–π –∫–ª–∏–µ–Ω—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä **DBeaver** –∏–ª–∏ **pgAdmin**.

üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```
Host: <IP_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞_–≥–¥–µ_–∑–∞–ø—É—â–µ–Ω_docker>
Port: 5432
Database: testdb
User: admin
Password: admin123
```

> –ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä —Å Docker –∏–º–µ–µ—Ç IP `192.168.100.237`, —Ç–æ `Host = 192.168.100.237`.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–° –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:

```bash
psql -h 192.168.100.237 -U admin -d testdb
```

–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ ‚Äî –ø–æ–ª—É—á–∏—à—å –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ PostgreSQL 12.10.

---

–•–æ—á–µ—à—å, —è –¥–æ–±–∞–≤–ª—é –∫ —ç—Ç–æ–º—É docker-compose —Ñ–∞–π–ª **pgAdmin 4** (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π)?
–¢—ã —Å–º–æ–∂–µ—à—å –∑–∞—Ö–æ–¥–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä, –≤–∏–¥–µ—Ç—å —Ç–∞–±–ª–∏—Ü—ã, —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—ã –∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –±–µ–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.
